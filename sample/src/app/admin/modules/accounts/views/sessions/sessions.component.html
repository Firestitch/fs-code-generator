<fs-list [config]="config" #table>
  <fs-list-column title="Account" name="account">
    <ng-template fs-list-cell let-row="row">

      <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px"  *ngIf="row.account; else elseAccount">
        <fs-badge shape="circle" image="{{ row.account.image.small }}"></fs-badge>
        <div fxLayout="column">
          <a [routerLink]="['/admin','accounts',row.account.id]">{{ row.account.first_name }} {{ row.account.last_name }}</a>
          <small *ngIf="row.account.email">{{ row.account.email }}</small>
        </div>
      </div>

      <ng-template #elseAccount>

      </ng-template>
    </ng-template>
  </fs-list-column>

  <fs-list-column title="Status">
    <ng-template fs-list-cell let-row="row">
      <ng-container *ngIf="row.state===sessionState.Deleted; else elseStateDeleted">Deleted</ng-container>
      <ng-template #elseStateDeleted>
          <ng-container *ngIf="row.is_expired; else elseExpired">Expired</ng-container>
          <ng-template #elseExpired>
            {{sessionStates[row.state]}}
          </ng-template>
      </ng-template>
    </ng-template>
  </fs-list-column>

  <fs-list-column title="Environment">
    <ng-template fs-list-cell let-row="row">
      <ng-container *ngIf="row.environment">{{row.environment.name}}</ng-container>
    </ng-template>
  </fs-list-column>

  <fs-list-column name="create_date" [sortable]="true">
    <ng-template fs-list-header>Create Date</ng-template>
    <ng-template fs-list-cell let-row="row">
      <span>{{ row.create_date | fsDateFormat: 'full-date-time' }}</span>
    </ng-template>
  </fs-list-column>

  <fs-list-column name="expiry_date" [sortable]="true">
    <ng-template fs-list-header>Expiry Date</ng-template>
    <ng-template fs-list-cell let-row="row">
      <span>{{ row.expiry_date | fsDateFormat: 'full-date-time' }}</span>
    </ng-template>
  </fs-list-column>
  <fs-list-column>
    <ng-template fs-list-header>Duration</ng-template>
    <ng-template fs-list-cell let-row="row">
      <span>{{ row.expiry_date | dateDuration : row.create_date }}</span>
    </ng-template>
  </fs-list-column>
</fs-list>