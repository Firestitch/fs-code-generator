<mat-card>
  <fs-list [config]="config" #list>
    <fs-list-column title="Description">
      <ng-template fs-list-cell let-row="row">
        <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
          <app-project-image [project]="row.project"></app-project-image>
          <div fxLayout="column">
            <div *ngIf="row.task">
              <app-object-identifier [object]="row.task" [project]="row.project"></app-object-identifier>&nbsp;
              <a (click)="onProceedTask(row.task)">{{ row.task.name }}</a>
            </div>
            <small *ngIf="row.description">{{ row.description + '' | fsFormatTruncate }}</small>
          </div>
        </div>
      </ng-template>
    </fs-list-column>
    <fs-list-column title="Account">
      <ng-template fs-list-cell let-row="row">
        <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
          <fs-badge shape="circle" image="{{ row?.account?.image?.small }}"></fs-badge>
          <span>{{ row?.account?.first_name }} {{ row?.account?.last_name }}</span>
        </div>
      </ng-template>
    </fs-list-column>
    <fs-list-column name="minutes" title="Hours" [sortable]="true">
      <ng-template fs-list-cell let-row="row">
        {{ row.minutes * 60 | fsDateDuration: { hours: true } }}
      </ng-template>
    </fs-list-column>
    <fs-list-column name="start_date" title="Date" [sortable]="true">
      <ng-template fs-list-cell let-row="row">
        <div fxLayout="column">
          <a *ngIf="row.state !== 'deleted'" (click)="onUpdate(row)">{{ row.start_date | fsDate: "day-date" }}</a>
          <span *ngIf="row.state === 'deleted'">{{ row.start_date | fsDate: "day-date" }}</span>
          <small *ngIf="row.type === 'timer'">{{ row.start_date | fsDate: 'time' }} - {{ row.end_date | fsDate: 'time' }}</small>
        </div>
      </ng-template>
    </fs-list-column>
  </fs-list>
</mat-card>
